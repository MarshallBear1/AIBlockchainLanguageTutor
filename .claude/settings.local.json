{
  "permissions": {
    "allow": [
      "Bash(npx supabase:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nImprove avatar animation variety and accent clarity\n\nANIMATION IMPROVEMENTS:\n- Add explicit animation selection rules to AI prompt\n- Instruct GPT to ROTATE between Talking_0, Talking_1, Talking_2\n- Use \"Laughing\" animation when correcting mistakes (playful)\n- Use \"Rumba\" animation when celebrating success\n- Map facial expressions to appropriate situations\n- Prevent repetitive animation selection\n\nACCENT SWITCHING FIX:\n- Restructure teaching to separate English and Spanish sentences\n- English explanation in one sentence, Spanish phrase in next\n- Allows ElevenLabs multilingual_v2 to properly switch accents\n- Example: \"Here 's how you say it. Me llamo Marshal.\" (instead of mixed)\n- Updated correction pattern to match new structure\n- Maintains clarity while enabling proper accent per language\n\nCHANGES TO AI-CHAT FUNCTION:\n- Updated Response Format section with detailed animation rules\n- Added animation selection guidelines based on context\n- Modified Teaching Approach for accent clarity\n- Updated Correction Pattern examples\n- Added \"funnyFace\" expression for playful corrections\n\nBENEFITS:\n- Avatar animations now vary naturally with conversation\n- GEM laughs playfully when correcting mistakes\n- Spanish words spoken with Spanish accent, English with English\n- More engaging and realistic teaching experience\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nFix lesson scenario not being used in first greeting\n\nBUG FIX:\n- AI was showing generic \"Have a natural conversation practice\" instead of actual lesson scenario\n- lessonGoal parameter was being passed but not used properly\n- Now properly uses lessonGoal when provided (and not default placeholders)\n\nCHANGE:\n- supabase/functions/ai-chat/index.ts:\n  * Check if lessonGoal is valid (not \"Conversation\" or \"START_CONVERSATION\")\n  * Use lessonGoal as scenarioIntro when valid\n  * Fall back to default scenarios only when no valid lesson provided\n\nRESULT:\n- GEM now greets with actual lesson: \"Practice introducing yourself with 'Â¿CÃ³mo te llamas?' and 'Me llamo...'\"\n- Not generic: \"Have a natural conversation practice\"\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
