{
  "permissions": {
    "allow": [
      "Bash(npx supabase:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nImprove avatar animation variety and accent clarity\n\nANIMATION IMPROVEMENTS:\n- Add explicit animation selection rules to AI prompt\n- Instruct GPT to ROTATE between Talking_0, Talking_1, Talking_2\n- Use \"Laughing\" animation when correcting mistakes (playful)\n- Use \"Rumba\" animation when celebrating success\n- Map facial expressions to appropriate situations\n- Prevent repetitive animation selection\n\nACCENT SWITCHING FIX:\n- Restructure teaching to separate English and Spanish sentences\n- English explanation in one sentence, Spanish phrase in next\n- Allows ElevenLabs multilingual_v2 to properly switch accents\n- Example: \"Here 's how you say it. Me llamo Marshal.\" (instead of mixed)\n- Updated correction pattern to match new structure\n- Maintains clarity while enabling proper accent per language\n\nCHANGES TO AI-CHAT FUNCTION:\n- Updated Response Format section with detailed animation rules\n- Added animation selection guidelines based on context\n- Modified Teaching Approach for accent clarity\n- Updated Correction Pattern examples\n- Added \"funnyFace\" expression for playful corrections\n\nBENEFITS:\n- Avatar animations now vary naturally with conversation\n- GEM laughs playfully when correcting mistakes\n- Spanish words spoken with Spanish accent, English with English\n- More engaging and realistic teaching experience\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nFix lesson scenario not being used in first greeting\n\nBUG FIX:\n- AI was showing generic \"Have a natural conversation practice\" instead of actual lesson scenario\n- lessonGoal parameter was being passed but not used properly\n- Now properly uses lessonGoal when provided (and not default placeholders)\n\nCHANGE:\n- supabase/functions/ai-chat/index.ts:\n  * Check if lessonGoal is valid (not \"Conversation\" or \"START_CONVERSATION\")\n  * Use lessonGoal as scenarioIntro when valid\n  * Fall back to default scenarios only when no valid lesson provided\n\nRESULT:\n- GEM now greets with actual lesson: \"Practice introducing yourself with 'Â¿CÃ³mo te llamas?' and 'Me llamo...'\"\n- Not generic: \"Have a natural conversation practice\"\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nMake lessons faster and more efficient - no repetition\n\nLESSON SPEED IMPROVEMENTS:\n- Students say each thing ONCE correctly, then move on immediately\n- No more repetitive practice of the same phrase\n- Don''t make them do \"full exchanges\" or complex combinations\n- Each goal: teach â†’ practice ONCE â†’ praise â†’ NEXT\n- Total lesson length: 6-8 messages from GEM max\n\nPROGRESSION RULES:\n- Once student gets something right, IMMEDIATELY move to next goal\n- Don''t ask them to repeat things they already mastered\n- Keep it simple and efficient\n- 3-4 goals per lesson, done quickly\n\nLESSON COMPLETION:\n- After 3-4 goals mastered, END IMMEDIATELY\n- Say \"Great job today!\" right away\n- Quick recap and done\n- Don''t drag out with extra practice\n\nEXAMPLE FLOW:\n1. GEM: \"To say your name, say 'Me llamo [name]'. Try it!\"\n2. Student: \"Me llamo Marshall\"\n3. GEM: \"Perfect! Now let's learn how to ask someone's name...\"\n4. Continue for 2-3 more goals\n5. GEM: \"Great job today! You learned...\"\n6. â†’ Reward screen\n\nCHANGES:\n- supabase/functions/ai-chat/index.ts:\n  * Updated Teaching Progression with FAST & EFFICIENT rules\n  * Added IMPORTANT SPEED RULES section\n  * Each goal practiced only ONCE if correct\n  * Updated lesson completion to be immediate\n  * Added Lesson Length constraints (6-8 messages max)\n  * Removed repetitive practice requirements\n\nBENEFITS:\n- Lessons are now 2-3x faster\n- No boring repetition\n- Students feel accomplished quickly\n- More engaging and dynamic\n- Better user experience\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nForce GEM to lead lessons faster and move on immediately\n\nCRITICAL LESSON PACING FIX:\n- GEM now IMMEDIATELY moves to next goal when student gets something right\n- No more asking student to repeat or practice if they already got it correct\n- No more waiting for student to ask \"next?\" - GEM decides when to continue\n- All in ONE message: \"Perfect! Now let's learn...\"\" (instant progression)\n\nBEFORE (TOO SLOW):\nStudent: \"\"buenos dias\"\"\nGEM: \"\"Exactly right! Great job!\"\"\nStudent: \"\"next?\"\"\nGEM: \"\"Let's learn when to use it...\"\n\nAFTER (FAST):\nStudent: \"buenos dias\"  \nGEM: \"Perfect! Now let's learn when to use 'Buenos dÃ­as'...\"\"\n(Immediately continues in same response)\n\nLESSON STRUCTURE:\n- Goal 1: Teach â†’ student says once â†’ IMMEDIATELY teach goal 2\n- Goal 2: Teach â†’ student says once â†’ IMMEDIATELY teach goal 3  \n- Goal 3: Teach â†’ student says once â†’ IMMEDIATELY end lesson\n- Total: 4-6 GEM messages maximum (not 8-10+)\n\nCHANGES:\n- supabase/functions/ai-chat/index.ts:\n  * Updated Teaching Progression to emphasize IMMEDIATE continuation\n  * Changed from \"\"~6-8 messages\"\" to \"\"~4-6 messages\"\"\n  * Added CRITICAL SPEED RULES section\n  * Explicit instruction: \"\"INSTANTLY move to next goal in same response\"\"\n  * No more waiting for student input between goals\n  * Example: \"\"Perfect! Now let's learn...\" all in one message\n\nBENEFITS:\n- Much faster lesson completion (2-3x faster)\n- No awkward pauses waiting for \"next?\"\n- GEM truly leads the conversation\n- Students stay engaged with rapid progression\n- Lessons feel dynamic and energetic\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
